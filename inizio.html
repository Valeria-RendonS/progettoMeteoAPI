<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meteo Pro - Welcome</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        
        body, html { 
            height: 100%; 
            width: 100%; 
            overflow: hidden; 
            background-color: #000; 
        }

        #main-viewport {
            position: relative;
            width: 100%;
            height: 100%;
            background-image: url('campo.jpg'); 
            background-size: cover;
            background-position: center bottom;
            transition: filter 1s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #season-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(124, 252, 0, 0.2); 
            transition: background-color 3s ease-in-out;
            z-index: 1;
        }

        /* --- RANA --- */
        .frog-track {
            position: absolute;
            bottom: 70px; 
            width: 100%;
            height: 150px;
            pointer-events: none;
            z-index: 100;
        }

        #frog-sprite {
            position: absolute;
            width: 140px; 
            height: auto;
            will-change: transform, left;
        }

        /* --- CONTENITORE BOTTONI --- */
        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 3rem;
            border-radius: 50px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            z-index: 200;
            display: flex;
            flex-direction: column;
            gap: 20px; /* Spazio tra i due bottoni */
        }

        .btn {
            padding: 20px 50px; 
            font-size: 1.4rem; 
            font-weight: 800;
            color: white; 
            border: none;
            border-radius: 60px; 
            cursor: pointer; 
            text-decoration: none;
            display: inline-block; 
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
            min-width: 300px;
        }

        /* Bottone Meteo (Blu) */
        .btn-weather { background: #1e3c72; }
        .btn-weather:hover { background: #2a5298; transform: scale(1.05) translateY(-3px); }

        /* Bottone Frogger (Verde) */
        .btn-frogger { background: #2ecc71; color: #003300; }
        .btn-frogger:hover { background: #27ae60; transform: scale(1.05) translateY(-3px); }

        .rain-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 10;
        }

        .drop {
            position: absolute; background: rgba(255, 255, 255, 0.5);
            width: 1.5px; height: 18px;
        }
    </style>
</head>
<body>

    <div id="main-viewport">
        <div id="season-overlay"></div>
        <div class="rain-container" id="rainBox"></div>

        <div class="frog-track">
            <img src="imm1.png" id="frog-sprite" alt="Rana">
        </div>

        <div class="glass-card">
            <a href="index.html" class="btn btn-weather">USA IL METEO</a>
            <a href="frogger.html" class="btn btn-frogger">GIOCA A FROGGER</a>
        </div>
    </div>

    <script>
        const viewport = document.getElementById('main-viewport');
        const overlay = document.getElementById('season-overlay');
        const frogImg = document.getElementById('frog-sprite');
        const rainBox = document.getElementById('rainBox');

        const frogFrames = ["imm1.png", "imm2.png", "imm3.png", "imm4.png", "imm5.png", "imm6.png"];
        
        let currentFrame = 0;
        let frogX = -200;
        let speed = 5.5; 
        let frameTick = 0;

        function animate() {
            frogX += speed;
            if (frogX > window.innerWidth) frogX = -200;
            frogImg.style.left = frogX + "px";

            frameTick++;
            if (frameTick >= 6) { 
                currentFrame = (currentFrame + 1) % frogFrames.length;
                frogImg.src = frogFrames[currentFrame];
                frameTick = 0;
            }

            if (isRainy) updateRain();
            requestAnimationFrame(animate);
        }

        let isRainy = false;
        setInterval(() => {
            isRainy = !isRainy;
            if (isRainy) {
                createRain();
                viewport.style.filter = "brightness(0.7) contrast(1.1) saturate(0.8)";
            } else {
                stopRain();
                viewport.style.filter = "brightness(1) contrast(1) saturate(1)";
            }
        }, 5000);

        const seasonsColors = [
            "rgba(124, 252, 0, 0.2)", "rgba(255, 215, 0, 0.25)", 
            "rgba(255, 140, 0, 0.25)", "rgba(174, 238, 238, 0.25)"
        ];
        let seasonIdx = 0;
        setInterval(() => {
            seasonIdx = (seasonIdx + 1) % seasonsColors.length;
            overlay.style.backgroundColor = seasonsColors[seasonIdx];
        }, 10000);

        let drops = [];
        function createRain() {
            stopRain();
            isRainy = true;
            for (let i = 0; i < 80; i++) {
                let d = {
                    x: Math.random() * window.innerWidth,
                    y: Math.random() * window.innerHeight,
                    v: 12 + Math.random() * 10,
                    el: document.createElement('div')
                };
                d.el.className = 'drop';
                rainBox.appendChild(d.el);
                drops.push(d);
            }
        }
        function updateRain() {
            drops.forEach(d => {
                d.y += d.v;
                if (d.y > window.innerHeight) d.y = -20;
                d.el.style.transform = `translate(${d.x}px, ${d.y}px)`;
            });
        }
        function stopRain() {
            isRainy = false;
            rainBox.innerHTML = "";
            drops = [];
        }

        animate();
    </script>
</body>
</html>